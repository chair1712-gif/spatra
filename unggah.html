<form id="form">
  <input name="nama">
  <input type="file" id="file">
  <button type="submit">Upload</button>
</form>

<script>
document.getElementById("form").onsubmit = async e => {
  e.preventDefault();

  const file = document.getElementById("file").files[0];
  const base64 = await fileToBase64(file);

  fetch("https://script.google.com/macros/s/AKfycbwnp51ZDzwnNNjl1OdOqfB0lvUEThdFJlJxyWzUVGYKVV3ZEsm7NXiha6HEMBg9RJjK/exec", {
    method: "POST",
    body: JSON.stringify({
      nama: e.target.nama.value,
      file: base64,
      filename: file.name,
      type: file.type
    })
  });
};

function fileToBase64(file) {
  return new Promise(r => {
    const reader = new FileReader();
    reader.onload = () => r(reader.result.split(",")[1]);
    reader.readAsDataURL(file);
  });
}
</script>
